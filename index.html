<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Review Card Generator</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;700&display=swap"
			rel="stylesheet"
		/>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@500&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Rubik&display=swap" rel="stylesheet">  
		<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@600&display=swap" rel="stylesheet">


		<style>

			body {
				
				background: #eae8e8;
				font-family: rubik;
			}

			
			
			#card-preview {
				width: 250px;
				height: 427px;
				position: relative;
				border: 1px solid #ccc;
				margin-top: 20px;
				overflow: hidden;
				background-color: #fff;
			}

			#card-background {
				width: 100%;
				height: 100%;
				position: absolute;
				top: 0;
				left: 0;
			}

			#logo-preview {
				position: absolute;
				top: 7%;
				left: 50%;
				transform: translateX(-50%);
				max-width: 70%;
				max-height: 15%;
				display: none;
			}

			#qrcode {
				position: absolute;
				left: 50%;
				top: 50%;
				transform: translate(-50%, -50%);
				width: 118px;
				height: 118px;
			}

			#guide-overlay {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				pointer-events: none;
			}

			.design-option img {
				border: 1px solid #ddd;
				border-radius: 4px;
				padding: 2px;
				width: 150px;
			}

			.design-option input[type="radio"] {
				display: none;
			}

			.design-option input[type="radio"]:checked + label img {
				border-color: #a47f4e;
			}

			.design-option label {
				display: block;
				text-align: center;
			}

			.design-options-container {
				display: flex;
				flex-wrap: nowrap;
				justify-content: space-between;
			}

			.design-option {
				flex: 1 1 calc(20% - 10px);
				margin: 5px;
				text-align: center;
			}

			#website-input-section {
				display: none;
				margin-top: 10px;
			}

			#website-preview {
				position: absolute;
				bottom: 6%;
				left: 50%;
				transform: translateX(-50%);
				font-family: "Manrope", sans-serif;
				font-size: 10px;
				font-weight: 400;
				text-align: center;
				width: 100%;
				color: #ffffff;
			}

            #logo {
                width: 80px;
                
            }

			.form-control {
				display: block;
				width: 100%;
				height: calc(1.5em + .75rem + 2px);
				padding: .375rem .75rem;
				font-size: 1rem;
				font-weight: 400;
				line-height: 1.5;
				color: #495057;
				background-color: #fff;
				background-clip: padding-box;
				border: 1px solid #ced4da;
				border-radius: .25rem;
				transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
			}

            .navbar {
                background: rgb(14,23,40);
                background: linear-gradient(90deg, rgba(14,23,40,1) 0%, rgba(39,61,95,1) 100%);

            }

			.nav-div {
				display: flex;
				justify-content: center;
				align-items: center;
				margin-right: 10%;
				margin-left: 5%;
			}

			/* .divider {
					display: inline-block;
					width: 0.5px; 
					background-color: #a47f4e; 
					margin: 0 10px; 
					vertical-align: middle; 
				} */

            .title {
                color: #a47f4e;
                font-family: josefin sans;
                font-size: 18px;
				text-transform: uppercase;
				padding-top: 10px;
			}

            .form-label {
                font-family: rubik;
                font-weight: 400;
                font-size: 15px;
            }

            input {
                font-family: rubik;
                font-weight: 400;
            }

            .bttn {
                display: inline-block;
				font-family: "Josefin Sans", Sans-serif;
				font-size: 10px;
				text-transform: uppercase;
				letter-spacing: 1.2px;
				fill: #FFFFFF;
				color: #FFFFFF;
				background-color: transparent;
				background-image: radial-gradient(at center center, #CFAD73 0%, #926B3E 100%);
				border-style: none;
				border-radius: 5px;
				box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.25);
				padding-top: 10px;
            }

			.bttn:hover {
				color: #ffffff;
				background-image: radial-gradient(at center center, #dec985 0%, #a17b50 100%);
				transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
				transform: translateY(1px);
				box-shadow: 2px 2px 2px 0px rgba(0, 0, 0, 0.15);
			}

			.steps {
					color: #ffffff;
					display: inline-block; 
					width: 30px;
					height: 30px;   
					text-align: center;   
					line-height: 30px;   
					background-color: #1d2d5e;
					border-radius: 50%;
					font-family: rubik;
					margin-right: 10px;
					margin-left: 5px;
				}

			/* Media Query for Mobile Devices */
			@media (max-width: 767px) {
				.design-options-container {
					flex-direction: column;
					align-items: center;
				}


				.design-option {
					flex: 1 1 100%;
					margin: 10px 0;
				}

				.col-md-8,
				.col-md-4 {
					flex: 1 1 100%;
					max-width: 100%;
				}

				#card-preview {
					margin: 20px auto; /* Center the preview on mobile */
				}

				.navbar {
					padding-top: 20px;
				}

				/* Adjust other elements as needed for mobile */
			}
		</style>
	</head>

	<body >
		<nav class="navbar navbar-expand-lg navbar ">
			<div class=" nav-div container col-md-12">
				<img src="contracting-empire-logo.png" alt="contracting empire logo" id="logo"/>
				<span class="divider"></span>
				<span class="navbar-text title  ">Review Card Generator</span>
			</div>
		</nav>

		
        
		<div class="container my-5">

			<div class="row">
				<!-- Form Section -->
				<div class="col-md-8">
					<form id="qr-form">
						<div class="mb-4">
							<span class="steps mb-2">1</span>
							<label for="url" class="form-label">Enter Your Google Review URL:</label>
							<input
								type="text"
								id="url"
								name="url"
								value="https://google.com"
								class="form-control"
								required
							/>
						</div>

						<div class="mb-3">
							<span class="steps">2</span>
							<label class="form-label">Select Design:</label>
							<div class="design-options-container">
								<!-- Design Option 1 -->
								<div class="design-option">
									<input
										type="radio"
										id="design1"
										name="design"
										value="Review cards-01.png"
										checked
									/>
									<label for="design1">
										<img src="Review cards-01.png" alt="Design 1" />
										<small class="d-block text-center mt-1">Design 1</small>
									</label>
								</div>
								<!-- Design Option 2 -->
								<div class="design-option">
									<input
										type="radio"
										id="design2"
										name="design"
										value="Review cards-02.png"
									/>
									<label for="design2">
										<img src="Review cards-02.png" alt="Design 2" />
										<small class="d-block text-center mt-1">Design 2</small>
									</label>
								</div>
								<!-- Design Option 3 -->
								<div class="design-option">
									<input
										type="radio"
										id="design3"
										name="design"
										value="Review cards-03.png"
									/>
									<label for="design3">
										<img src="Review cards-03.png" alt="Design 3" />
										<small class="d-block text-center mt-1">Design 3</small>
									</label>
								</div>
								<!-- Design Option 4 -->
								<div class="design-option">
									<input
										type="radio"
										id="design4"
										name="design"
										value="Review cards-04.png"
									/>
									<label for="design4">
										<img src="Review cards-04.png" alt="Design 4" />
										<small class="d-block text-center mt-1">Design 4</small>
									</label>
								</div>
								<!-- Design Option 5 -->
								<div class="design-option">
									<input
										type="radio"
										id="design5"
										name="design"
										value="Review cards-05.png"
									/>
									<label for="design5">
										<img src="Review cards-05.png" alt="Design 5" />
										<small class="d-block text-center mt-1">Design 5</small>
									</label>
								</div>
							</div>
						</div>

						<!-- Logo Upload Field -->
						<div id="logo-upload-section" class="mb-3" style="display: none">
							<span class="steps mb-2">3</span>
							<label for="logo-upload" class="form-label"
								>Upload Your Logo (PNG, JPG):</label
							>
							<input
								type="file"
								id="logo-upload"
								accept="image/png, image/jpeg"
								class="form-control"
							/>
						</div>

						<!-- Website URL Input Field -->
						<div class="mb-3" id="website-input-section">
							<span class="steps mb-2">3</span>
							<label for="website-text" class="form-label"
								>Enter Your Website URL</label
							>
							<input
								type="text"
								id="website-text"
								class="form-control"
								placeholder="www.example.com"
							/>
						</div>
					</form>
				</div>

				<!-- Preview Section -->
				<div class="col-md-4 text-center">
					<div id="card-preview" class="mx-auto">
						<img
							id="card-background"
							src="new-guide-07.png"
							alt="Card Design Preview"
						/>
						<img id="logo-preview" src="" alt="Logo" />
						<div id="qrcode" title="https://google.com">
							<canvas width="118" height="118" style="display: none"></canvas>
							<img
								src="data:image/png;base64,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"
								style="display: block"
							/>
						</div>
						<!-- Guide Overlay -->
						<img id="guide-overlay" src="new-guide-07.png" alt="Guide Overlay" />
						<div id="website-preview"></div>
					</div>
					<!-- Download button -->
					<div class="d-flex justify-content-center align-items-center mt">
						<span class="steps mt-3">4</span>
						<button
						id="download-btn"
						class="btn mt-3 btn-success bttn "
						style="display: inline-block"
					>
					Download as PDF 
					<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-download pb-1" viewBox="0 0 16 16">
						<path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
						<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
					</svg>
					</button>
					</div>
					
				</div>
			</div>
		</div>

		<!-- QR Code JS -->
		<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
		<!-- pdf-lib -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
		<!-- Bootstrap JS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

		<script>
			const qrcodeDiv = document.getElementById("qrcode");
			const cardBackground = document.getElementById("card-background");
			const downloadBtn = document.getElementById("download-btn");
			const logoUploadSection = document.getElementById("logo-upload-section");
			const logoUploadInput = document.getElementById("logo-upload");
			const logoPreview = document.getElementById("logo-preview");
			const urlInput = document.getElementById("url");
			const websiteInputSection = document.getElementById(
				"website-input-section"
			);
			const websiteTextInput = document.getElementById("website-text");
			const websitePreview = document.getElementById("website-preview");

			let highResQRCodeDataURL = "";
			let logoDataURL = "";
			let qrCode;
			let designSupportsLogo = false;

			const designRadios = document.getElementsByName("design");

			Array.from(document.getElementsByName("design")).forEach((radio) => {
				radio.checked = false;
			});

			// Clear the card preview initially
			cardBackground.src = ""; // No design is pre-selected

			
window.addEventListener("load", function() {
    cardBackground.style.opacity = "0"; // Image is hidden
});

// When a design is selected, make the background visible
Array.from(designRadios).forEach((radio) => {
    radio.addEventListener("change", function() {
        cardBackground.src = radio.value; // Update the image source
        cardBackground.style.opacity = "1"; // Make the image visible
    });
});

			Array.from(designRadios).forEach((radio) => {
    radio.addEventListener("change", function () {
        designSupportsLogo =
            radio.id === "design3" ||
            radio.id === "design4" ||
            radio.id === "design5";
        
        if (designSupportsLogo) {
            logoUploadSection.style.display = "block";
            if (logoDataURL) {
                logoPreview.style.display = "block";
            }
            websiteInputSection.style.display = "none";
            websitePreview.style.display = "none";
        } else {
            logoUploadSection.style.display = "none";
            logoPreview.style.display = "none";
            if (radio.id === "design1" || radio.id === "design2") {
                websiteInputSection.style.display = "block";
                websitePreview.style.display = "block";
            } else {
                websiteInputSection.style.display = "none";
                websitePreview.style.display = "none";
            }
        }
        
        // Update the image source and make it visible
        cardBackground.src = radio.value;
        cardBackground.style.opacity = "1"; // Make the image visible
    });
});


			logoUploadInput.addEventListener("change", function (e) {
				const file = e.target.files[0];
				if (file && (file.type === "image/png" || file.type === "image/jpeg")) {
					const reader = new FileReader();
					reader.onload = function (event) {
						logoDataURL = event.target.result;
						//
						if (designSupportsLogo) {
							logoPreview.src = logoDataURL;
							logoPreview.style.display = "block";
						}
					};
					reader.readAsDataURL(file);
				} else {
					alert("Please upload a valid PNG or JPEG image.");
					logoUploadInput.value = "";
				}
			});

			websiteTextInput.addEventListener("input", function () {
				websitePreview.textContent = websiteTextInput.value.trim();
			});

			function generateQRCode(url) {
				qrcodeDiv.innerHTML = "";
				const qrSize = 118;
				qrCode = new QRCode(qrcodeDiv, {
					text: url,
					width: qrSize,
					height: qrSize,
					correctLevel: QRCode.CorrectLevel.H,
				});
			}

			urlInput.addEventListener("input", function () {
				const url = urlInput.value.trim();
				if (url) {
					generateQRCode(url);
					generateHighResQRCode(url);
					downloadBtn.style.display = "inline-block";
				} else {
					qrcodeDiv.innerHTML = "";
					downloadBtn.style.display = "none";
					highResQRCodeDataURL = "";
				}
			});

			window.addEventListener("load", function () {
				const defaultURL = urlInput.value.trim();
				if (defaultURL) {
					generateQRCode(defaultURL);
					generateHighResQRCode(defaultURL);
					downloadBtn.style.display = "inline-block";
				}
			});

			async function generateHighResQRCode(url) {
				if (!url) {
					highResQRCodeDataURL = "";
					return;
				}

				return new Promise((resolve, reject) => {
					const hiddenDiv = document.createElement("div");
					hiddenDiv.style.display = "none";
					document.body.appendChild(hiddenDiv);

					const dpi = 300;
					const inchToPx = dpi;
					const canvasWidth = 2.12 * inchToPx;
					const qrSize = (118 / 250) * canvasWidth;

					new QRCode(hiddenDiv, {
						text: url,
						width: qrSize,
						height: qrSize,
						correctLevel: QRCode.CorrectLevel.H,
					});

					setTimeout(() => {
						try {
							const qrCanvas = hiddenDiv.querySelector("canvas");
							if (qrCanvas) {
								highResQRCodeDataURL = qrCanvas.toDataURL("image/png");
								document.body.removeChild(hiddenDiv);
								resolve();
							} else {
								throw new Error("QR code canvas not found.");
							}
						} catch (error) {
							console.error("Error generating high-res QR code:", error);
							reject(error);
						}
					}, 500);
				});
			}

			downloadBtn.addEventListener("click", async function () {
				const url = urlInput.value.trim();
				const websiteText = websiteTextInput.value.trim();

				if (!highResQRCodeDataURL || !url) {
					alert("Please enter a valid URL to generate the QR code.");
					return;
				}

				const dpi = 300;
				const inchToPx = dpi;
				const canvasWidth = 2.12 * inchToPx;
				const canvasHeight = 3.62 * inchToPx;

				const canvas = document.createElement("canvas");
				canvas.width = canvasWidth;
				canvas.height = canvasHeight;
				const ctx = canvas.getContext("2d");

				const backgroundImg = new Image();
				backgroundImg.crossOrigin = "Anonymous";
				backgroundImg.src = cardBackground.src;
				backgroundImg.onload = function () {
					ctx.drawImage(backgroundImg, 0, 0, canvas.width, canvas.height);

					if (designSupportsLogo && logoDataURL) {
						const logoImg = new Image();
						logoImg.src = logoDataURL;
						logoImg.onload = function () {
							// Using the same calculation logic as the preview
							const logoMaxWidth = canvasWidth * 0.7;
							const logoMaxHeight = canvasHeight * 0.15;
							let logoWidth = logoImg.width;
							let logoHeight = logoImg.height;

							const widthRatio = logoMaxWidth / logoWidth;
							const heightRatio = logoMaxHeight / logoHeight;
							const minRatio = Math.min(widthRatio, heightRatio);

							logoWidth *= minRatio;
							logoHeight *= minRatio;

							const logoX = (canvasWidth - logoWidth) / 2;
							const logoY = canvasHeight * 0.07; // 7% from the top, consistent with preview
							ctx.drawImage(logoImg, logoX, logoY, logoWidth, logoHeight);

							drawQRCode(ctx, canvasWidth, canvasHeight, websiteText);
						};
					} else {
						drawQRCode(ctx, canvasWidth, canvasHeight, websiteText);
					}
				};

				function drawQRCode(ctx, canvasWidth, canvasHeight, websiteText) {
					const qrImg = new Image();
					qrImg.crossOrigin = "Anonymous";
					qrImg.src = highResQRCodeDataURL;
					qrImg.onload = async function () {
						const qrSize = (118 / 250) * canvasWidth; // Keeping the QR code size proportional
						const qrX = (canvasWidth - qrSize) / 2;
						const qrY = (canvasHeight - qrSize) / 2;
						ctx.drawImage(qrImg, qrX, qrY, qrSize, qrSize);

						if (websiteText) {
							ctx.font = "400 25px Manrope";
							ctx.textAlign = "center";
							ctx.fillStyle = "#ffffff";
							ctx.fillText(websiteText, canvasWidth / 2, canvasHeight * 0.94); // 6% from the bottom, consistent with preview
						}

						const imgData = canvas.toDataURL("image/png", 1.0);
						const pdfDoc = await PDFLib.PDFDocument.create();

						const pageWidth = 2.12 * 72;
						const pageHeight = 3.62 * 72;

						const page = pdfDoc.addPage([pageWidth, pageHeight]);

						const pngImage = await pdfDoc.embedPng(imgData);

						page.drawImage(pngImage, {
							x: 0,
							y: 0,
							width: pageWidth,
							height: pageHeight,
						});

						const pdfBytes = await pdfDoc.save();

						const blob = new Blob([pdfBytes], { type: "application/pdf" });
						const url = URL.createObjectURL(blob);
						const a = document.createElement("a");
						a.href = url;
						a.download = "business_card.pdf";
						document.body.appendChild(a);
						a.click();
						document.body.removeChild(a);
						URL.revokeObjectURL(url);
					};
				}
			});
		</script>
	</body>
</html>
